
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TIL: system generated errata list and patch changelog with yum - atomic-penguin's blog</title>
  <meta name="author" content="Eric G. Wolfe">

  
  <meta name="description" content="I was looking for a way to create a system generated CVE, or errata,
list for a production change request today. I recall this being
easier on RHN ( &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://atomic-penguin.github.com/blog/2013/08/15/til-system-generated-cve-and-changelog-with-yum/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="atomic-penguin's blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">atomic-penguin's blog</a></h1>
  
    <h2>Musings on Linux, Opscode Chef, online gaming, and home cooking.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:atomic-penguin.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">TIL: System Generated Errata List and Patch Changelog With Yum</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-15T15:01:00-04:00" pubdate data-updated="true">Aug 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I was looking for a way to create a system generated CVE, or errata,
list for a production change request today.  I recall this being
easier on RHN (Red Hat Network) portal, in the past.  That has changed
so much, I don&#8217;t even know where to look, and apparently cannot list
more than 10 errata issues per-page.</p>

<!-- more -->


<p>So as I searched for a way to generate this report, I came across
two yum plugins I have overlooked in the past.  The <code>yum-security</code>
and <code>yum-changelog</code> plugins.  Assuming you have a change request process
involving two identical servers, <code>test</code> and <code>production</code> you can use these two
plugins to generate change request documentation.</p>

<p>The <code>yum-security</code> plugin will generate a compact list of RedHat Bug/Security IDs,
or even long-format issue reports, applicable to your production machine.</p>

<p>The <code>yum-changelog</code> plugin can generate a list of what issues were just patched on
the test machine, and be submitted as part of the chnage request documentation
for the production machine.  The <code>yum-changelog</code> plugin needs the package
<code>python-dateutil</code> for full functionality.</p>

<h2>Install plugins</h2>

<pre><code>yum -y install yum-security yum-changelogi python-dateutil
</code></pre>

<h3>Generate an errata list, or display issue reports.</h3>

<p>Run <code>yum list-sec</code> to generate a short-format errata list.  Some
third party packages may not be included in the list as they are probably
lacking necessary metadata.</p>

<pre><code>[root@production]# yum list-sec
RHBA-2013:1040 bugfix   bash-3.2-32.el5_9.1.i386
RHSA-2013:0983 security curl-7.15.5-17.el5_9.i386
FEDORA-EPEL-2013-10647 bugfix   dkms-2.2.0.3-8.el5.noarch
FEDORA-EPEL-2013-10952 bugfix   dkms-2.2.0.3-14.el5.noarch
RHSA-2013:0981 security firefox-17.0.7-1.el5_9.i386
RHSA-2013:1140 security firefox-17.0.8-1.el5_9.i386
RHBA-2013:1039 bugfix   gnome-vfs2-2.16.2-12.el5_9.i386
RHBA-2013:1039 bugfix   gnome-vfs2-smb-2.16.2-12.el5_9.i386
RHSA-2013:1014 security java-1.6.0-openjdk-1:1.6.0.0-1.41.1.11.11.90.el5_9.i386
RHSA-2013:1014 security java-1.6.0-openjdk-devel-1:1.6.0.0-1.41.1.11.11.90.el5_9.i386
RHBA-2013:1123 bugfix   libxml2-2.6.26-2.1.21.el5_9.3.i386
RHBA-2013:1123 bugfix   libxml2-devel-2.6.26-2.1.21.el5_9.3.i386
RHBA-2013:1123 bugfix   libxml2-python-2.6.26-2.1.21.el5_9.3.i386
RHSA-2013:1135 security nspr-4.9.5-1.el5_9.i386
RHSA-2013:1135 security nss-3.14.3-6.el5_9.i386
RHSA-2013:1135 security nss-tools-3.14.3-6.el5_9.i386
RHBA-2013:1128 bugfix   poppler-0.5.4-19.el5_9.2.i386
RHBA-2013:1128 bugfix   poppler-utils-0.5.4-19.el5_9.2.i386
RHSA-2013:1121 security sos-1.7-9.62.el5_9.1.noarch
RHBA-2013:1091 bugfix   sqlite-3.3.6-7.i386
RHEA-2013:1025 enhancement tzdata-2013c-2.el5.i386
RHEA-2013:1025 enhancement tzdata-java-2013c-2.el5.i386
RHSA-2013:0981 security xulrunner-17.0.7-1.el5_9.i386
RHSA-2013:1140 security xulrunner-17.0.8-3.el5_9.i386
list-sec done
</code></pre>

<p>Run <code>yum info-security</code> to generate a long-format issue report.
Here is a truncated output example.</p>

<pre><code>[root@production]# yum info-security
===============================================================================
bash bug fix update
===============================================================================
  Update ID : RHBA-2013:1040
    Release : 
       Type : bugfix
     Status : final
     Issued : 2013-07-10 00:00:00
    Summary : Updated bash packages that fix one bug are now available for Red
            : Hat Enterprise Linux 5.
Description : The GNU Bourne Again shell (Bash) is a shell and command
            : language interpreter compatible with the Bourne
            : shell (sh). Bash is the default shell for Red Hat
            : Enterprise Linux.
            : 
            : This update fixes the following bug:
            : 
            : * When a trap handler was invoked while running
            :   another trap handler, which was invoked during a
            :   pipeline call, bash was unresponsive. With this
            :   update, pipeline calls are saved and
            :   subsequently restored in this scenario, and bash
            :   responds normally. (BZ#978840)
            : 
            : Users of bash are advised to upgrade to these
            : updated packages, which fix this bug.
   Solution : Before applying this update, make sure all previously-released
            : errata relevant to your system have been applied.
            : 
            : This update is available via the Red Hat Network.
            : Details on how to use the Red Hat Network to apply
            : this update are available at
            : https://access.redhat.com/site/articles/11258
     Rights : Copyright 2013 Red Hat Inc
</code></pre>

<h3>Generate a changelog after patching the test system.</h3>

<p>According to my <code>/var/log/yum.log</code> let us say I last patched this
system on 2013-7-18.  I would generate a changelog of installed patches on
the test machine since that date, as follows.</p>

<pre><code>[root@test]# yum -y upgrade
...
[root@test]# yum changelog 2013-7-18 installed
Listing changelogs since 2013-07-18

==================== Installed Packages ====================
libxml2-2.6.26-2.1.21.el5_9.3.i386       installed
* Tue Jul 23 18:00:00 2013 Daniel Veillard - 2.6.26-2.1.21.el5_9.3
- fixed one regexp bug and added a (rhbz#987321)
- Another small change on the algorithm for the elimination of epsilon (rhbz#987321)

poppler-0.5.4-19.el5_9.2.i386            installed
* Tue Jul 30 18:00:00 2013 Marek Kasik - 0.5.4-19.el5_9.2
- Initialize variables correctly before their use
- Resolves: #990097
* Tue Jul 30 18:00:00 2013 Marek Kasik - 0.5.4-19.el5_9.1
- Decode encoded streams before using them
- Resolves: #990096

nss-3.14.3-6.el5_9.i386                  installed
* Tue Jul 23 18:00:00 2013 Elio Maldonado - 3.14.3-6
- Resolves: rhbz#986969 - nssutil_ReadSecmodDB() leaks memory

firefox-17.0.8-1.el5_9.i386              installed
* Wed Jul 31 18:00:00 2013 Martin Stransky - 17.0.8-1
- Update to 17.0.8 ESR

dkms-2.2.0.3-14.el5.noarch               installed
* Mon Jul 22 08:00:00 2013 Simone Caronni - 2.2.0.3-14
- Remove systemd / SysV conversion as per new packaging guidelines.
- Add patch for #986887 to force tarball creation.
* Mon Jul 22 08:00:00 2013 Simone Caronni - 2.2.0.3-13
- Add fix for #986887; do not use lib64 for storing data as it was in 2.2.0.3-5.
* Sun Jul 21 08:00:00 2013 Simone Caronni - 2.2.0.3-12
- Add patch for #986557.

xulrunner-17.0.8-3.el5_9.i386            installed
* Tue Aug  6 18:00:00 2013 Martin Stransky - 17.0.8-3
- Update to 17.0.8 ESR Build 2
- Disable strict aliasing - mozbz#821502
* Thu Aug  1 18:00:00 2013 Martin Stransky - 17.0.8-2
- Added fix for rhbz#990921 - firefox does not build with.
  required nss/nspr
* Wed Jul 31 18:00:00 2013 Martin Stransky - 17.0.8-1
- Update to 17.0.8 ESR

sos-1.7-9.62.el5_9.1.noarch              installed
* Mon Jul 22 18:00:00 2013 Bryn M. Reeves - 1.7-9.62.el5_9.1
- Remove anaconda-ks.cfg collection from general plug-in
- Resolves: bz965807

changelog stats. 951 pkgs, 947 source pkgs, 12 changelogs
</code></pre>

<h3>Conclusion</h3>

<p>Even if you do <em>not</em> work in an environment with strict change control procedures.
The <code>yum-security</code> plugin can be helpful to see what known bugs and security issues exist in your RHEL
environment.  While the <code>yum-changelog</code> also allows you to thoroughly examine what changes
you just made to your system.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Eric G. Wolfe</span></span>

      








  


<time datetime="2013-08-15T15:01:00-04:00" pubdate data-updated="true">Aug 15<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/errata/'>errata</a>, <a class='category' href='/blog/categories/rhel/'>rhel</a>, <a class='category' href='/blog/categories/yum/'>yum</a>, <a class='category' href='/blog/categories/yum-changelog/'>yum-changelog</a>, <a class='category' href='/blog/categories/yum-security/'>yum-security</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://atomic-penguin.github.com/blog/2013/08/15/til-system-generated-cve-and-changelog-with-yum/" data-via="atomic_penguin" data-counturl="http://atomic-penguin.github.com/blog/2013/08/15/til-system-generated-cve-and-changelog-with-yum/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/06/07/HOWTO-test-kitchen-and-encrypted-data-bags/" title="Previous Post: HOWTO test-kitchen and encrypted data bags">&laquo; HOWTO test-kitchen and encrypted data bags</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/10/14/Mini-HOWTO-VMWare-MAC-address-change-on-RHEL/" title="Next Post: Mini HOWTO - VMWare MAC address change on RHEL">Mini HOWTO - VMWare MAC address change on RHEL &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/10/14/Mini-HOWTO-VMWare-MAC-address-change-on-RHEL/">Mini HOWTO - VMWare MAC address change on RHEL</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/15/til-system-generated-cve-and-changelog-with-yum/">TIL: system generated errata list and patch changelog with yum</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/07/HOWTO-test-kitchen-and-encrypted-data-bags/">HOWTO test-kitchen and encrypted data bags</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/25/Multi-Knife-HOWTO/">Multi-knife HOWTO</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/15/disabling-verticalsync-in-kde-for-steam4linux-beta/">Disabling VerticalSync in KDE for Steam4Linux Beta</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/atomic-penguin">@atomic-penguin</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'atomic-penguin',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("atomic_penguin", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/atomic_penguin" class="twitter-follow-button" data-show-count="false">Follow @atomic_penguin</a>
  
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/112791157300091682319?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



<section class="linkedin">
<script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
<script type="IN/MemberProfile" data-id="http://www.linkedin.com/in/ericgwolfe" data-format="click" data-text="Eric G. Wolfe" data-related="false"></script>
<a href="http://resume.linkedinlabs.com/o1x0n1fiy">Résumé</a>
</section>


<section class="steam">
  <a href="http://steamcommunity.com/atomic-penguin"><img src="/images/steam.png" width="32" height="32" style="border: 0px;">atomic-penguin on Steam</a>
</section>


<section>
  <h1>About Me</h1>
  <img src="/images/profile.png" style="border: 0px;">
  <p>Hello, Eric G. Wolfe, here. I am a Senior Linux Administrator at <a href="http://www.marshall.edu">Marshall University.</a> You might know me as atomic-penguin from various corners of the Internet.</p>
  <p>I have been quite enamored with computers since I was very young. I am quite lucky to get paid to work on something I really enjoy doing. In the course of my everyday job, I have been fortunate enough to contribute Open Source bugfixes to the <a href="http://www.opscode.com">Opscode Chef</a> <a href="https://github.com/opscode-cookbooks">COOK project</a>.</p>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Eric G. Wolfe -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'atomicpenguin';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://atomic-penguin.github.com/blog/2013/08/15/til-system-generated-cve-and-changelog-with-yum/';
        var disqus_url = 'http://atomic-penguin.github.com/blog/2013/08/15/til-system-generated-cve-and-changelog-with-yum/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
